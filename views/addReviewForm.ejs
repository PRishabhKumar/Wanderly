<% layout('layouts/boilerplate') %>

    <div class="page-container-centered">
        <div class="glass-form-card">
            <div class="form-header">
                <h3>Write a Review</h3>
                <p>Share your experience with others.</p>
            </div>

            <form action="/listings/<%= listing._id %>/reviews" method="POST" class="reviewForm needs-validation"
                novalidate>

                <!-- Star Rating Section -->
                <div class="mb-5 text-center">
                    <label class="form-label mb-3">How was your stay?</label>
                    <div class="starsContainer">
                        <div class="star" data-value="1"><i class="fa-regular fa-star"></i></div>
                        <div class="star" data-value="2"><i class="fa-regular fa-star"></i></div>
                        <div class="star" data-value="3"><i class="fa-regular fa-star"></i></div>
                        <div class="star" data-value="4"><i class="fa-regular fa-star"></i></div>
                        <div class="star" data-value="5"><i class="fa-regular fa-star"></i></div>
                    </div>
                    <!-- Hidden input stores the actual value -->
                    <div class="ratingDiv">
                        <input type="number" name="rating" id="rating" class="rating form-control" required min="1"
                            max="5">
                        <div class="invalid-feedback mt-2">Please give a star rating.</div>
                    </div>
                </div>

                <!-- Message Input -->
                <div class="mb-4">
                    <label for="message" class="form-label"><i class="fa-solid fa-comment-dots"></i> Your
                        Message</label>
                    <textarea name="message" id="message" class="form-control custom-input"
                        placeholder="Tell us what you loved about this place..." rows="4" required></textarea>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">Please share your thoughts.</div>
                </div>

                <!-- Submit Button -->
                <div class="form-action">
                    <button type="submit" class="btn btn-gold-gradient">
                        Submit Review <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>

            </form>
        </div>
    </div>

    <script src="/js/addReviewForm.js"></script>