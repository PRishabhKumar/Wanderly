<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title><%= title || 'My Site' %></title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">
    <!-- Google Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <!-- Common CSS -->
    <link rel="stylesheet" href="/css/navbar.css" />
    <link rel="stylesheet" href="/css/footer.css" />
    <link rel="stylesheet" href="/css/flash.css" />

    <!-- Page-specific styles -->
    <% if (typeof styles !== 'undefined') { %>
        <% styles.forEach(style => { %>
            <link rel="stylesheet" href="<%= style %>">
        <% }) %>
    <% } %>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {    
            height: 100%;
            width: 100%;
            font-family: sans-serif;
        }

        body {
            display: flex;
            flex-direction: column;
        }

        .bodyContainer {
            display: flex;
            flex-direction: column;
            flex: 1; /*The bosy container now takes the full width making the footer to always stick to the ground even when the content length is short*/
            width: 100%;
        }

        .pageWrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .footer {
            margin-top: auto;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.35);
            z-index: 0;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>

<body>
    <div class="bodyContainer">        
        <% if (typeof listing !== 'undefined') { %>
            <div class="overlay <%= typeof hideOverlay !== 'undefined' && hideOverlay ? 'hidden' : '' %>"></div>
            <div class="pageWrapper">
                <%- include("../partials/flash.ejs") %>
                <%- include("../partials/navbar.ejs") %>                
                <%- body %>
                <%- include("../partials/footer.ejs") %>
            </div>
        <% } else { %>
            <div class="pageWrapper">
                <%- include("../partials/flash.ejs") %>
                <%- include("../partials/navbar.ejs") %>
                <%- body %>
                <%- include("../partials/footer.ejs") %>
            </div>
        <% } %>
    </div>

    <script src="/js/formValidation.js"></script>
</body>

</html>
